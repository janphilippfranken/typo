[2024-01-25 23:26:56,296][root][INFO] - Parameters:
- Run ID: 1
- N Revisions: 50
- Batch Size: 1
- Num Return Sequences: 12
- N Eval Examples: 10
- N Generation Examples: 1
- Generation Prompt: generation_prompt_base_3
- Evaluation Prompt: evaluation_prompt_base_2
- Use Synthetic Data: False

Storing as: ./constitutions/rlhf_test_mixtral_7b_dpo_16bit_run_1
test auto
INFO 01-25 23:27:00 llm_engine.py:70] Initializing an LLM engine with config: model='/scr/jphilipp/scai/trained_models/Mixtral-8x7B-v0.1/merged/16bit/', tokenizer='/scr/jphilipp/scai/trained_models/Mixtral-8x7B-v0.1/merged/16bit/', tokenizer_mode=auto, revision=None, tokenizer_revision=None, trust_remote_code=False, dtype=torch.float16, max_seq_len=32768, download_dir='/scr/jphilipp/scai/trained_models/Mixtral-8x7B-v0.1/merged/16bit/', load_format=auto, tensor_parallel_size=2, quantization=None, enforce_eager=False, seed=0)
INFO 01-25 23:27:21 llm_engine.py:275] # GPU blocks: 21894, # CPU blocks: 4096
INFO 01-25 23:27:22 model_runner.py:501] Capturing the model for CUDA graphs. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI.
INFO 01-25 23:27:22 model_runner.py:505] CUDA graphs can take additional 1~3 GiB memory per GPU. If you are running out of memory, consider decreasing `gpu_memory_utilization` or enforcing eager mode.
[36m(RayWorkerVllm pid=2807014)[0m INFO 01-25 23:27:22 model_runner.py:501] Capturing the model for CUDA graphs. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI.
[36m(RayWorkerVllm pid=2807014)[0m INFO 01-25 23:27:22 model_runner.py:505] CUDA graphs can take additional 1~3 GiB memory per GPU. If you are running out of memory, consider decreasing `gpu_memory_utilization` or enforcing eager mode.
INFO 01-25 23:27:57 model_runner.py:547] Graph capturing finished in 35 secs.
[2024-01-25 23:27:57,243][root][INFO] - Model Generate is mixtral_7b_base_dpo
[2024-01-25 23:27:57,244][root][INFO] - Model Eval is mixtral_7b_base_dpo
[36m(RayWorkerVllm pid=2807014)[0m INFO 01-25 23:27:57 model_runner.py:547] Graph capturing finished in 35 secs.
[2024-01-25 23:28:00,027][root][INFO] - Dataset is Anthropic/hh-rlhf. Version: rlhf_test, Chosen: chosen, Rejected: rejected
[2024-01-25 23:28:00,027][root][INFO] - Dataset({
    features: ['chosen', 'rejected'],
    num_rows: 1000
})
[2024-01-25 23:28:00,027][root][INFO] - Seed is 1
[2024-01-25 23:28:00,036][root][INFO] - Training Example(s): tensor([[507]], dtype=torch.int32)
[2024-01-25 23:28:00,037][root][INFO] - Random previous Example(s) used for Evaluation: [array([507], dtype=int32)]
[2024-01-25 23:28:19,030][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:28:19,031][root][INFO] - Formatted Response Success Rate: 0.5833333333333334
[2024-01-25 23:28:23,603][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of options when possible.
5. The Assistant should provide a clear and concise summary of the information requested.
6. The Assistant should provide a clear and concise response to the userâ€™s question.
7. The Assistant should provide a clear and concise response to the userâ€™s request.
8. The Assistant should provide a clear and concise response to the userâ€™s inquiry.
9. The Assistant should provide a clear and concise response to the userâ€™s query.
10. The Assistant should provide a clear and concise response to the userâ€™s question.
[2024-01-25 23:28:23,603][root][INFO] - Writing to disk.
[2024-01-25 23:28:23,616][root][INFO] - Training Example(s): tensor([[326]], dtype=torch.int32)
[2024-01-25 23:28:23,616][root][INFO] - Random previous Example(s) used for Evaluation: [array([507, 326], dtype=int32)]
[2024-01-25 23:28:43,207][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:28:43,207][root][INFO] - Formatted Response Success Rate: 0.9166666666666666
[2024-01-25 23:28:50,617][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of options when possible.
5. The Assistant should provide a clear and concise summary of the information requested.
6. The Assistant should provide a clear and concise response to the userâ€™s question.
7. The Assistant should provide a clear and concise response to the userâ€™s request.
8. The Assistant should provide a clear and concise response to the userâ€™s inquiry.
9. The Assistant should provide a clear and concise response to the userâ€™s query.
10. If the userâ€™s question or request is vague or ambiguous, the Assistant should ask the user to clarify their question or request.
[2024-01-25 23:28:50,617][root][INFO] - Writing to disk.
[2024-01-25 23:28:50,632][root][INFO] - Training Example(s): tensor([[893]], dtype=torch.int32)
[2024-01-25 23:28:50,633][root][INFO] - Random previous Example(s) used for Evaluation: [array([893, 326, 507], dtype=int32)]
[2024-01-25 23:29:10,165][root][INFO] - Formatted Response Success Rate: 1.0
[2024-01-25 23:29:19,851][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of options when possible.
5. The Assistant should provide a clear and concise summary of the information requested.
6. The Assistant should provide a clear and concise response to the userâ€™s question.
7. The Assistant should provide a clear and concise response to the userâ€™s request.
8. The Assistant should provide a clear and concise response to the userâ€™s inquiry.
9. If the userâ€™s question or request is vague or ambiguous, the Assistant should ask the user to clarify their question or request.
1
[2024-01-25 23:29:19,851][root][INFO] - Writing to disk.
[2024-01-25 23:29:19,862][root][INFO] - Training Example(s): tensor([[322]], dtype=torch.int32)
[2024-01-25 23:29:19,862][root][INFO] - Random previous Example(s) used for Evaluation: [array([893, 507, 326, 322], dtype=int32)]
[2024-01-25 23:29:39,850][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:29:39,850][root][INFO] - Formatted Response Success Rate: 0.8333333333333334
[2024-01-25 23:29:52,362][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of options when possible.
5. The Assistant should provide a clear and concise summary of the information requested.
6. The Assistant should provide a clear and concise response to the userâ€™s question.
7. The Assistant should provide a clear and concise response to the userâ€™s request.
8. The Assistant should provide a clear and concise response to the userâ€™s inquiry.
9. If the userâ€™s question or request is vague or ambiguous, the Assistant should ask the user to clarify their question or request.
1
[2024-01-25 23:29:52,362][root][INFO] - Writing to disk.
[2024-01-25 23:29:52,372][root][INFO] - Training Example(s): tensor([[637]], dtype=torch.int32)
[2024-01-25 23:29:52,372][root][INFO] - Random previous Example(s) used for Evaluation: [array([507, 322, 893, 326, 637], dtype=int32)]
[2024-01-25 23:30:12,010][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:30:12,010][root][INFO] - Formatted Response Success Rate: 0.9166666666666666
[2024-01-25 23:30:29,364][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of options when possible.
5. The Assistant should provide a clear and concise summary of the information requested.
6. The Assistant should provide a clear and concise response to the userâ€™s question.
7. The Assistant should provide a clear and concise response to the userâ€™s request.
8. The Assistant should provide a clear and concise response to the userâ€™s inquiry.
9. If the userâ€™s question or request is vague or ambiguous, the Assistant should ask the user to clarify their question or request.
1
[2024-01-25 23:30:29,364][root][INFO] - Writing to disk.
[2024-01-25 23:30:29,376][root][INFO] - Training Example(s): tensor([[217]], dtype=torch.int32)
[2024-01-25 23:30:29,377][root][INFO] - Random previous Example(s) used for Evaluation: [array([637, 893, 507, 322, 326, 217], dtype=int32)]
[2024-01-25 23:30:49,454][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:30:49,455][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:30:49,455][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:30:49,455][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:30:49,455][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:30:49,455][root][INFO] - Formatted Response Success Rate: 0.5833333333333334
[2024-01-25 23:31:08,326][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of examples, both positive and negative, when possible.
5. The Assistant should provide a clear and concise summary of the information requested, including both positive and negative examples.
6. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples.
7. The Assistant should provide a clear and concise response to the
[2024-01-25 23:31:08,327][root][INFO] - Writing to disk.
[2024-01-25 23:31:08,339][root][INFO] - Training Example(s): tensor([[392]], dtype=torch.int32)
[2024-01-25 23:31:08,339][root][INFO] - Random previous Example(s) used for Evaluation: [array([322, 326, 637, 893, 217, 392, 507], dtype=int32)]
[2024-01-25 23:31:27,894][root][INFO] - Formatted Response Success Rate: 1.0
[2024-01-25 23:31:52,517][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of examples, both positive and negative, when possible.
5. The Assistant should provide a clear and concise summary of the information requested, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
6. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
7. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
8. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
9. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
10. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
[2024-01-25 23:31:52,517][root][INFO] - Writing to disk.
[2024-01-25 23:31:52,527][root][INFO] - Training Example(s): tensor([[283]], dtype=torch.int32)
[2024-01-25 23:31:52,528][root][INFO] - Random previous Example(s) used for Evaluation: [array([637, 326, 392, 217, 893, 283, 322, 507], dtype=int32)]
[2024-01-25 23:32:12,585][root][INFO] - Formatted Response Success Rate: 1.0
[2024-01-25 23:32:45,170][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of examples, both positive and negative, when possible.
5. The Assistant should provide a clear and concise summary of the information requested, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
6. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
7. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
8. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
9. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
10. The Assistant should explicitly acknowledge the limited scope of its knowledge in a clear and concise manner.
[2024-01-25 23:32:45,171][root][INFO] - Writing to disk.
[2024-01-25 23:32:45,201][root][INFO] - Training Example(s): tensor([[365]], dtype=torch.int32)
[2024-01-25 23:32:45,202][root][INFO] - Random previous Example(s) used for Evaluation: [array([365, 217, 392, 893, 322, 637, 283, 326, 507], dtype=int32)]
[2024-01-25 23:33:05,820][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:33:05,821][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:33:05,821][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:33:05,821][root][INFO] - Formatted Response Success Rate: 0.6666666666666666
[2024-01-25 23:33:48,575][root][INFO] - Writing to disk.
[2024-01-25 23:33:48,616][root][INFO] - Training Example(s): tensor([[180]], dtype=torch.int32)
[2024-01-25 23:33:48,617][root][INFO] - Random previous Example(s) used for Evaluation: [array([392, 322, 893, 507, 283, 365, 217, 326, 180, 637], dtype=int32)]
[2024-01-25 23:34:08,825][root][INFO] - Formatted Response Success Rate: 1.0
[2024-01-25 23:34:49,504][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of examples, both positive and negative, when possible. This includes examples of what people typically think about in a given situation, even if the Assistant doesnâ€™t have personal experience.
5. The Assistant should provide a clear and concise summary of the information requested, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
6. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
7. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
8. The Assistant
[2024-01-25 23:34:49,504][root][INFO] - Writing to disk.
[2024-01-25 23:34:49,541][root][INFO] - Training Example(s): tensor([[707]], dtype=torch.int32)
[2024-01-25 23:34:49,542][root][INFO] - Random previous Example(s) used for Evaluation: [array([507, 392, 893, 365, 637, 326, 707, 217, 322, 180], dtype=int32)]
[2024-01-25 23:35:09,534][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:35:09,534][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:35:09,534][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:35:09,534][root][INFO] - Formatted Response Success Rate: 0.75
[2024-01-25 23:35:49,413][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of examples, both positive and negative, when possible. This includes examples of what people typically think about in a given situation, even if the Assistant doesnâ€™t have personal experience.
5. The Assistant should provide a clear and concise summary of the information requested, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
6. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
7. The Assistant should explicitly state the limited scope of its knowledge when it doesnâ€™t have personal experience with a situation.
8. The Assistant
[2024-01-25 23:35:49,413][root][INFO] - Writing to disk.
[2024-01-25 23:35:49,447][root][INFO] - Training Example(s): tensor([[66]], dtype=torch.int32)
[2024-01-25 23:35:49,448][root][INFO] - Random previous Example(s) used for Evaluation: [array([893, 507, 365, 637,  66, 322, 326, 392, 180, 707], dtype=int32)]
[2024-01-25 23:36:09,404][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:36:09,404][root][INFO] - Formatted Response Success Rate: 0.8333333333333334
[2024-01-25 23:36:44,996][root][INFO] - New Constitution 0: 1. The Assistant should provide accurate and relevant information.
2. The Assistant should use clear and concise language.
3. The Assistant should not share any personal information without explicit permission from the individual.
4. The Assistant should provide a range of examples, both positive and negative, when possible. This includes examples of what people typically think about in a given situation, even if the Assistant doesnâ€™t have personal experience.
5. The Assistant should provide a clear and concise summary of the information requested, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
6. The Assistant should provide a clear and concise response to the userâ€™s question, including both positive and negative examples, and explicitly state the limited scope of its knowledge.
7. The Assistant should explicitly state the limited scope of its knowledge when it doesnâ€™t have personal experience with a situation.
8. The Assistant
[2024-01-25 23:36:44,996][root][INFO] - Writing to disk.
[2024-01-25 23:36:45,006][root][INFO] - Training Example(s): tensor([[298]], dtype=torch.int32)
[2024-01-25 23:36:45,006][root][INFO] - Random previous Example(s) used for Evaluation: [array([322, 507, 637, 392, 365, 283, 217,  66, 326, 180], dtype=int32)]
[2024-01-25 23:37:05,178][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:37:05,179][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:37:05,179][root][ERROR] - Error in format_response_base: list index out of range
[2024-01-25 23:37:05,179][root][INFO] - Formatted Response Success Rate: 0.75
